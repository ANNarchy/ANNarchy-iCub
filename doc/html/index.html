<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ANNarchy iCub Interface: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ANNarchy iCub Interface
   &#160;<span id="projectnumber">0.2</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">ANNarchy iCub Interface Documentation</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This program is an interface between the Neurosimulator ANNarchy and the iCub robot (tested with the iCub simulator and partly with gazebo). It is written in C++ with a Cython wrapping to Python.</p>
<h2>Interface description</h2>
<p>Possible actions are the reading and writing of joint angles, get the current state or move the robot joints. Further, the camera images and the tactile sensors data can be received.</p>
<p>The interface has a modular structure with one main class and several subclasses. The main class is the "iCubANN" class, handling the subclass instances. The subclasses representing the different modules are <a class="el" href="d1/dc0/classJointReader.html" title="Read-out of the joint angles of the iCub robot. ">JointReader</a>, <a class="el" href="df/d23/classJointWriter.html" title="Write the joint angles to the iCub robots joints to move them. ">JointWriter</a>, <a class="el" href="d5/df3/classVisualReader.html" title="Read-out of the camera images from the iCub robot. ">VisualReader</a> and <a class="el" href="d1/dc5/classSkinReader.html" title="Read-out of the skin sensor data from the iCubs artificial skin. ">SkinReader</a> with the following functionalities:</p>
<ol type="1">
<li><em><a class="el" href="d1/dc0/classJointReader.html" title="Read-out of the joint angles of the iCub robot. ">JointReader</a>:</em><br />
 This module handles the joint reading. The iCub robot is divided in multiple robot parts, which are the head, right arm, left arm, torso right leg and left leg.<br />
 For each part a seperate joint reader instance is needed. Therefore, one has to add as many instances as needed to the parts_writer map of the <a class="el" href="d5/d9d/classiCubANN.html" title="Interfaces the different modules (Reader/Writer) and handles the use of multiple module instances...">iCubANN</a> class with the "AddJointReader" method.<br />
 Before the first usage of a joint reader instance, it has to be initialized with some specifications like the robot part. Then the joint angles can be received in two ways. As a double value or in a population code for one, multiple or all joint/s of the associated iCub part.</li>
<li><em><a class="el" href="df/d23/classJointWriter.html" title="Write the joint angles to the iCub robots joints to move them. ">JointWriter</a>:</em><br />
 The joint writer has a similar structure to the joint reader. Like there for each iCub part a separate instance has to be added to the parts_reader map of the iCub_ANN class. They also has to be initialized before usage.<br />
 For the writing of the joint angles the same ways are possible like for the reading. The joint angle can be written as double value or as population code for one, multiple or all joint/s of the associated part.</li>
<li><em><a class="el" href="d5/df3/classVisualReader.html" title="Read-out of the camera images from the iCub robot. ">VisualReader</a>:</em><br />
 This module handles the receiving of the camera images. At this time only one visual reader instance is possible due to YARP limitations for the used YARP RFModule (run only one Module).<br />
 This reader can be initilized for the right ('r') or left ('l') eye, limiting the visual data to be monocular. The grayscaled image is returned as an 1D-vector with a normalization from 0.0 (black) to 1.0 (white).<br />
 In the binocular mode ('b') the images of both cameras images are received and seperately added as 1D-vectors to the image buffer.</li>
<li><em><a class="el" href="d1/dc5/classSkinReader.html" title="Read-out of the skin sensor data from the iCubs artificial skin. ">SkinReader</a>:</em><br />
 This module handles the tactile data from the iCub's artificial skin. The robot is at several parts equipped with skin modules, reacting to pressure.<br />
 The sensor data for the arms can be read out with this module. The skin of the iCub arm is seperated in three modules, being the arm, forearm and hand.<br />
 The tactile data is returned as a vector with doubles in a range of 0.0 to 1.0. Where 0. is no pressure and 1.0 is the maximum sensor response.</li>
</ol>
<h2>Folder structure</h2>
<ul>
<li>Interface_ANNarchy_iCub -&gt; Main folder containing the whole interface<ul>
<li>Cython_ext -&gt; Contains the Cython files (pyx, pxd) for wrapping the C++ code for the use in Python</li>
<li>data -&gt; Folder capsulate the data files used by the interface.<ul>
<li>sensor_positions -&gt; This folder caontains the files from the iCub simulator installation with the position data for the tactile sensors.</li>
<li>interface_param.ini -&gt; ini-file with several parameters for the interface</li>
<li>joint_limits_sim.ini -&gt; In the ini file the simulated robot joint limitations of the iCub are given.</li>
<li>joint_limits_real.ini -&gt; In the ini file the real robot joint limitations of the iCub are given.<br />
 !!! This should be checked before the usage with the real robot, to avoid damage. !!!</li>
</ul>
</li>
<li>doc -&gt; This folder contains the doxygen generated documentation for the interface</li>
<li>include -&gt; This folder contains the C++ header files for the interface modules.<ul>
<li>INI_Reader -&gt; The INI-Reader is an external module, which is used to handle ini-files.</li>
</ul>
</li>
<li>src -&gt; This folder contains the C++ source files for the interface modules.</li>
<li>Testfiles -&gt; files for interface testing</li>
</ul>
</li>
</ul>
<h2>Preparation</h2>
<p>To use the interface in Python the source code has to be compiled. For this process is the Makefile in the main folder. The resulting .so files are saved in the build folder. For compilation simply opend a terminal in the main interface directory ("Interface_ANNarchy_iCub"). Then execute the "make" command in the terminal. Then the build process is started and will take a few minutes.</p>
<p>For use in Python the build folder should be added to the Pythonpath-variable, therefore add the following line to the .bashrc in the home-directory: </p><div class="fragment"><div class="line">export PYTHONPATH=${PYTHONPATH}:/path/to/repo/Interface_ANNarchy_iCub/build</div></div><!-- fragment --><h2>Generic Python Example</h2>
<div class="fragment"><div class="line">import iCub_Interface</div><div class="line"></div><div class="line">iCub = iCub_Interface.iCubANN_wrapper()</div><div class="line">...</div><div class="line">iCub.add_...</div><div class="line">iCub.parts_reader[jreader_name].method_name(...)</div><div class="line">iCub.parts_writer[jwriter_name].method_name(...)</div><div class="line">iCub.tactile_reader[treader_name].method_name(...)</div><div class="line">iCub.visual_input.method_name(...)</div><div class="line">...</div><div class="line">del iCub</div></div><!-- fragment --><h2>useful links</h2>
<p>Wiki for the iCub robot:<br />
 <a href="http://wiki.icub.org/wiki/Manual">http://wiki.icub.org/wiki/Manual</a></p>
<p>YARP website:<br />
 <a href="http://www.yarp.it/index.html">http://www.yarp.it/index.html</a></p>
<p>git repository with scripts to control the iCub simulator:<br />
 <a href="https://ai.informatik.tu-chemnitz.de/gogs/torsten/iCub_simulator_tools.git">https://ai.informatik.tu-chemnitz.de/gogs/torsten/iCub_simulator_tools.git</a></p>
<h2>Authors</h2>
<p>Torsten Follak (<a href="#" onclick="location.href='mai'+'lto:'+'tor'+'st'+'en.'+'fo'+'lla'+'k@'+'inf'+'or'+'mat'+'ik'+'.tu'+'-c'+'hem'+'ni'+'tz.'+'de'; return false;">torst<span style="display: none;">.nosp@m.</span>en.f<span style="display: none;">.nosp@m.</span>ollak<span style="display: none;">.nosp@m.</span>@inf<span style="display: none;">.nosp@m.</span>ormat<span style="display: none;">.nosp@m.</span>ik.t<span style="display: none;">.nosp@m.</span>u-che<span style="display: none;">.nosp@m.</span>mnit<span style="display: none;">.nosp@m.</span>z.de</a>)<br />
 Helge Ülo Dinkelbach<br />
</p>
<h2>Dependencies</h2>
<p>Python &gt;= 3.5<br />
 YARP &gt;= 3.2<br />
 OpenCV &gt;= 3.4<br />
 </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
